{% extends 'covid/base.html' %}

{% load crispy_forms_tags %}
{%  load static %}

{% block content %}
    <section class="align-items-center">
        <div class="wrapper rounded bg-white">
            <div class="h3">Edit Profile</div>
                <form class="form" method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="form-group col-md-6 mb-0">
                            {{ creation.first_name|as_crispy_field }}
                        </div>
                        <div class="form-group col-md-6 mb-0">
                            {{ creation.last_name|as_crispy_field }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6 mb-0">
                            {{ participant.state|as_crispy_field}}
                        </div>
                        <div class="form-group col-md-6 mb-0">
                            {{ participant.city|as_crispy_field }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-3 mb-0">
                            {{ participant.instagramHandle|as_crispy_field}}
                        </div>
                        <div class="form-group col-md-3 mb-0">
                            {{ participant.facebookHandle|as_crispy_field }}
                        </div>
                        <div class="form-group col-md-3 mb-0">
                            {{ participant.twitterHandle|as_crispy_field }}
                        </div>
                        <div class="form-group col-md-3 mb-0">
                            {{ participant.website|as_crispy_field }}
                        </div>
                    </div>
                    <button class="btn btn-primary mt-3" type="submit">Update Profile</button>
                </form>
            <div class="text-left" style="padding-top: 10px">
                    <p>Need a new password? <a href="/login">Change password.</a></p>
            </div>
            <div class="text-left">
                <p>Want to erase your data? <a data-bs-toggle="modal" data-bs-target="#deleteModal" href="#deleteModal">Delete your account.</a></p>
            </div>
        </div>

                <!-- DELETE MODAL -->
             <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
                 <div class="modal-dialog">
                     <div class="modal-content">
                         <div class="modal-header">
                             <h5 class="modal-title"><b>Delete account</b></h5>
                             <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                         </div>
                         <div class="modal-body">
                             <p>Are you sure? This action cannot be reverted. By clicking this button, you're agreeing to the following:</p>
                             <p><em>All my information on this platform will be erased. All the resource data associated to my account will be erased.</em></p>
                         </div>
                         <div class="modal-footer">
                             <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                             <a class="btn btn-danger" href="/delete_user">Delete</a>
                         </div>
                     </div>
                 </div>
             </div>
    </section>

    <style>
     @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap');

     * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
         font-family: 'Poppins', sans-serif
     }

     body {
         background: linear-gradient(45deg, #2193b0, #6dd5ed);
         min-height: 100vh
     }

     body::-webkit-scrollbar {
         display: none
     }

     .wrapper {
         max-width: 800px;
         margin: 80px auto;
         padding: 30px 45px;
         box-shadow: 5px 25px 35px #3535356b
     }

     .wrapper label {
         display: block;
         padding-bottom: 0.2rem
     }

     .wrapper .form .row {
         padding: 0.6rem 0
     }

     .wrapper .form .row .form-control {
         box-shadow: none
     }

     .wrapper .form .option {
         position: relative;
         padding-left: 20px;
         cursor: pointer
     }

     .wrapper .form .option input {
         opacity: 0
     }

     .wrapper .form .checkmark {
         position: absolute;
         top: 1px;
         left: 0;
         height: 20px;
         width: 20px;
         border: 1px solid #bbb;
         border-radius: 50%
     }

     .wrapper .form .option input:checked~.checkmark:after {
         display: block
     }

     .wrapper .form .option:hover .checkmark {
         background: #f3f3f3
     }

     .wrapper .form .option .checkmark:after {
         content: "";
         width: 10px;
         height: 10px;
         display: block;
         background: linear-gradient(45deg, #2193b0, #6dd5ed);
         position: absolute;
         top: 50%;
         left: 50%;
         border-radius: 50%;
         transform: translate(-50%, -50%) scale(0);
         transition: 300ms ease-in-out 0s
     }

     .wrapper .form .option input[type="radio"]:checked~.checkmark {
         background: #fff;
         transition: 300ms ease-in-out 0s
     }

     .wrapper .form .option input[type="radio"]:checked~.checkmark:after {
         transform: translate(-50%, -50%) scale(1)
     }

     #sub {
         display: block;
         width: 100%;
         border: 1px solid #ddd;
         padding: 10px;
         border-radius: 5px;
         color: #333
     }

     #sub:focus {
         outline: none
     }

     @media(max-width: 768.5px) {
         .wrapper {
             margin: 30px
         }

         .wrapper .form .row {
             padding: 0
         }
     }

     @media(max-width: 400px) {
         .wrapper {
             padding: 25px;
             margin: 20px
         }
     }
        </style>
{% endblock %}

